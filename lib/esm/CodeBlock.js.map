{"version":3,"sources":["../../src/CodeBlock.js"],"names":["React","classnames","SyntaxHighlighter","styles","CodeBlock","props","e","callback","setState","code","target","value","state","nextProps","className","editer","language","style","showLineNumbers","cls","preStyle","lineNumberStyle","paddingLeft","enterStyle","Object","assign","hljs","onChange","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,iBAAP,MAA8B,0BAA9B;AACA,OAAO,KAAKC,MAAZ,MAAwB,+CAAxB;AACA;;IACMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;;AADiB,+DAYR,UAACC,CAAD,EAAO;AAAA,UACRC,QADQ,GACK,MAAKF,KADV,CACRE,QADQ;;AAEhB,YAAKC,QAAL,CAAc;AACZC,QAAAA,IAAI,EAAEH,CAAC,CAACI,MAAF,CAASC;AADH,OAAd,EAEG;AAAA,eAAMJ,QAAQ,CAAC,MAAKK,KAAL,CAAWH,IAAZ,CAAd;AAAA,OAFH;AAGD,KAjBkB;;AAEjB,UAAKG,KAAL,GAAa;AACXH,MAAAA,IAAI,EAAG;AADI,KAAb;AAFiB;AAKlB;;;;8CACyBI,S,EAAW;AAAA,UAC3BJ,IAD2B,GAClB,KAAKJ,KADa,CAC3BI,IAD2B;;AAEnC,UAAIA,IAAI,KAAKI,SAAS,CAACJ,IAAvB,EAA6B;AAC3B,aAAKD,QAAL,CAAc;AAAEC,UAAAA,IAAI,EAAEI,SAAS,CAACJ;AAAlB,SAAd;AACD;AACF;;;6BAQQ;AAAA;;AAAA,UACCA,IADD,GACU,KAAKG,KADf,CACCH,IADD;AAAA,wBAEwE,KAAKJ,KAF7E;AAAA,UAECS,SAFD,eAECA,SAFD;AAAA,UAEYC,MAFZ,eAEYA,MAFZ;AAAA,6CAEoBC,QAFpB;AAAA,UAEoBA,QAFpB,qCAE6B,KAF7B;AAAA,0CAEoCC,KAFpC;AAAA,UAEoCA,KAFpC,kCAE0C,EAF1C;AAAA,8CAE8CC,eAF9C;AAAA,UAE8CA,eAF9C,sCAE8D,KAF9D;AAGP,UAAMC,GAAG,GAAGlB,UAAU,CAAC,YAAD,EAAea,SAAf,CAAtB;AACA,UAAMM,QAAQ,GAAGjB,MAAM,CAACc,KAAD,CAAN,IAAiB,EAAlC;AACA,UAAMI,eAAe,GAAGH,eAAe,GAAG;AAAEI,QAAAA,WAAW,EAAE;AAAf,OAAH,GAAyB,EAAhE;AACA,UAAMC,UAAU,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,QAAQ,CAACM,IAA3B,EAAiCL,eAAjC,CAAnB;AAEA,aACE;AAAK,QAAA,SAAS,EAAEF;AAAhB,SAEIJ,MAAM,IAAI;AACR,QAAA,KAAK,EAAEN,IADC;AAER,QAAA,SAAS,EAAC,WAFF;AAGR,QAAA,KAAK,EAAEc,UAHC;AAIR,QAAA,QAAQ,EAAE,kBAAAjB,CAAC;AAAA,iBAAI,MAAI,CAACqB,QAAL,CAAcrB,CAAd,CAAJ;AAAA;AAJH,QAFd,EASE,oBAAC,iBAAD;AACE,QAAA,QAAQ,EAAEU,QADZ;AAEE,QAAA,KAAK,EAAEI,QAFT;AAGE,QAAA,eAAe,EAAEF;AAHnB,SAKGT,IALH,CATF,CADF;AAmBD;;;;EA/CqBT,KAAK,CAAC4B,S;;AAgD7B;AAED,eAAexB,SAAf","sourcesContent":["import React from 'react';\r\nimport classnames from 'classnames';\r\nimport SyntaxHighlighter from 'react-syntax-highlighter';\r\nimport * as styles from 'react-syntax-highlighter/dist/esm/styles/hljs';\r\nimport './styles/codeBlock.less';\r\nclass CodeBlock extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      code:  ''\r\n    };\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    const { code } = this.props;\r\n    if (code !== nextProps.code) {\r\n      this.setState({ code: nextProps.code });\r\n    }\r\n  }\r\n  onChange = (e) => {\r\n    const { callback } = this.props;\r\n    this.setState({\r\n      code: e.target.value\r\n    }, () => callback(this.state.code));\r\n  }\r\n\r\n  render() {\r\n    const { code } = this.state;\r\n    const { className, editer, language='jsx', style='', showLineNumbers=false } = this.props;\r\n    const cls = classnames('precodebox', className);\r\n    const preStyle = styles[style] || '';\r\n    const lineNumberStyle = showLineNumbers ? { paddingLeft: 37 } : {};\r\n    const enterStyle = Object.assign({}, preStyle.hljs, lineNumberStyle)\r\n\r\n    return (\r\n      <div className={cls}>\r\n        {\r\n          editer && <textarea\r\n            value={code}\r\n            className=\"invisible\"\r\n            style={enterStyle}\r\n            onChange={e => this.onChange(e)}\r\n          />\r\n        }\r\n        <SyntaxHighlighter\r\n          language={language}\r\n          style={preStyle}\r\n          showLineNumbers={showLineNumbers}\r\n        >\r\n          {code}\r\n        </SyntaxHighlighter>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default CodeBlock;\r\n"],"file":"CodeBlock.js"}